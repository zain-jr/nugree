!function(t){function e(e){this.options=t.extend({slides:"ul.slideset > li",activeClass:"active",disabledClass:"disabled",btnPrev:"a.btn-prev",btnNext:"a.btn-next",generatePagination:!1,pagerList:"<ul>",pagerListItem:'<li><a href="#"></a></li>',pagerListItemText:"a",pagerLinks:".pagination li",currentNumber:"span.current-num",totalNumber:"span.total-num",btnPlay:".btn-play",btnPause:".btn-pause",btnPlayPause:".btn-play-pause",galleryReadyClass:"gallery-js-ready",autorotationActiveClass:"autorotation-active",autorotationDisabledClass:"autorotation-disabled",autorotationStopAfterClick:!1,circularRotation:!0,switchSimultaneously:!0,disableWhileAnimating:!1,disableFadeIE:!1,autoRotation:!1,pauseOnHover:!0,autoHeight:!1,useSwipe:!1,swipeThreshold:15,switchTime:4e3,animSpeed:600,event:"click"},e),this.init()}e.prototype={init:function(){this.options.holder&&(this.findElements(),this.attachEvents(),this.refreshState(!0),this.autoRotate(),this.makeCallback("onInit",this))},findElements:function(){if(this.gallery=t(this.options.holder).addClass(this.options.galleryReadyClass),this.slides=this.gallery.find(this.options.slides),this.slidesHolder=this.slides.eq(0).parent(),this.stepsCount=this.slides.length,this.btnPrev=this.gallery.find(this.options.btnPrev),this.btnNext=this.gallery.find(this.options.btnNext),this.currentIndex=0,this.options.disableFadeIE&&!t.support.opacity&&(this.options.animSpeed=0),"string"==typeof this.options.generatePagination){this.pagerHolder=this.gallery.find(this.options.generatePagination).empty(),this.pagerList=t(this.options.pagerList).appendTo(this.pagerHolder);for(var e=0;e<this.stepsCount;e++)t(this.options.pagerListItem).appendTo(this.pagerList).find(this.options.pagerListItemText).text(e+1);this.pagerLinks=this.pagerList.children()}else this.pagerLinks=this.gallery.find(this.options.pagerLinks);var i=this.slides.filter("."+this.options.activeClass);i.length&&(this.currentIndex=this.slides.index(i)),this.prevIndex=this.currentIndex,this.btnPlay=this.gallery.find(this.options.btnPlay),this.btnPause=this.gallery.find(this.options.btnPause),this.btnPlayPause=this.gallery.find(this.options.btnPlayPause),this.curNum=this.gallery.find(this.options.currentNumber),this.allNum=this.gallery.find(this.options.totalNumber),this.slides.css({display:"block",opacity:0}).eq(this.currentIndex).css({opacity:""})},attachEvents:function(){var e=this;this.resizeHandler=function(){e.onWindowResize()},t(window).bind("load resize orientationchange",this.resizeHandler),this.btnPrev.length&&(this.btnPrevHandler=function(t){t.preventDefault(),e.prevSlide(),e.options.autorotationStopAfterClick&&e.stopRotation()},this.btnPrev.bind(this.options.event,this.btnPrevHandler)),this.btnNext.length&&(this.btnNextHandler=function(t){t.preventDefault(),e.nextSlide(),e.options.autorotationStopAfterClick&&e.stopRotation()},this.btnNext.bind(this.options.event,this.btnNextHandler)),this.pagerLinks.length&&(this.pagerLinksHandler=function(t){t.preventDefault(),e.numSlide(e.pagerLinks.index(t.currentTarget)),e.options.autorotationStopAfterClick&&e.stopRotation()},this.pagerLinks.bind(e.options.event,this.pagerLinksHandler)),this.btnPlay.length&&(this.btnPlayHandler=function(t){t.preventDefault(),e.startRotation()},this.btnPlay.bind(this.options.event,this.btnPlayHandler)),this.btnPause.length&&(this.btnPauseHandler=function(t){t.preventDefault(),e.stopRotation()},this.btnPause.bind(this.options.event,this.btnPauseHandler)),this.btnPlayPause.length&&(this.btnPlayPauseHandler=function(t){t.preventDefault(),e.gallery.hasClass(e.options.autorotationActiveClass)?e.stopRotation():e.startRotation()},this.btnPlayPause.bind(this.options.event,this.btnPlayPauseHandler)),this.options.useSwipe&&window.Hammer&&i&&(this.swipeHandler=new Hammer.Manager(this.gallery[0]),this.swipeHandler.add(new Hammer.Swipe({direction:Hammer.DIRECTION_HORIZONTAL,threshold:e.options.swipeThreshold})),this.swipeHandler.on("swipeleft",function(){e.nextSlide()}).on("swiperight",function(){e.prevSlide()})),this.options.pauseOnHover&&(this.hoverHandler=function(){e.options.autoRotation&&(e.galleryHover=!0,e.pauseRotation())},this.leaveHandler=function(){e.options.autoRotation&&(e.galleryHover=!1,e.resumeRotation())},this.gallery.bind({mouseenter:this.hoverHandler,mouseleave:this.leaveHandler}))},onWindowResize:function(){this.options.autoHeight&&this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)})},prevSlide:function(){this.options.disableWhileAnimating&&this.galleryAnimating||(this.prevIndex=this.currentIndex,this.currentIndex>0?(this.currentIndex--,this.switchSlide()):this.options.circularRotation&&(this.currentIndex=this.stepsCount-1,this.switchSlide()))},nextSlide:function(t){this.options.disableWhileAnimating&&this.galleryAnimating||(this.prevIndex=this.currentIndex,this.currentIndex<this.stepsCount-1?(this.currentIndex++,this.switchSlide()):(this.options.circularRotation||t===!0)&&(this.currentIndex=0,this.switchSlide()))},numSlide:function(t){this.currentIndex!=t&&(this.prevIndex=this.currentIndex,this.currentIndex=t,this.switchSlide())},switchSlide:function(){var t=this;this.slides.length>1&&(this.galleryAnimating=!0,this.options.animSpeed?this.slides.eq(this.prevIndex).stop().animate({opacity:0},{duration:this.options.animSpeed}):this.slides.eq(this.prevIndex).css({opacity:0}),this.switchNext=function(){t.options.animSpeed?t.slides.eq(t.currentIndex).stop().animate({opacity:1},{duration:t.options.animSpeed}):t.slides.eq(t.currentIndex).css({opacity:""}),clearTimeout(this.nextTimer),this.nextTimer=setTimeout(function(){t.slides.eq(t.currentIndex).css({opacity:""}),t.galleryAnimating=!1,t.autoRotate(),t.makeCallback("onChange",t)},t.options.animSpeed)},this.options.switchSimultaneously?t.switchNext():(clearTimeout(this.switchTimer),this.switchTimer=setTimeout(function(){t.switchNext()},this.options.animSpeed)),this.refreshState(),this.makeCallback("onBeforeChange",this))},refreshState:function(t){this.slides.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass),this.pagerLinks.removeClass(this.options.activeClass).eq(this.currentIndex).addClass(this.options.activeClass),this.curNum.html(this.currentIndex+1),this.allNum.html(this.stepsCount),this.options.autoHeight&&(t?this.slidesHolder.css({height:this.slides.eq(this.currentIndex).outerHeight(!0)}):this.slidesHolder.stop().animate({height:this.slides.eq(this.currentIndex).outerHeight(!0)},{duration:this.options.animSpeed})),this.options.circularRotation||(this.btnPrev.add(this.btnNext).removeClass(this.options.disabledClass),0===this.currentIndex&&this.btnPrev.addClass(this.options.disabledClass),this.currentIndex===this.stepsCount-1&&this.btnNext.addClass(this.options.disabledClass)),this.gallery.toggleClass("not-enough-slides",1===this.stepsCount)},startRotation:function(){this.options.autoRotation=!0,this.galleryHover=!1,this.autoRotationStopped=!1,this.resumeRotation()},stopRotation:function(){this.galleryHover=!0,this.autoRotationStopped=!0,this.pauseRotation()},pauseRotation:function(){this.gallery.addClass(this.options.autorotationDisabledClass),this.gallery.removeClass(this.options.autorotationActiveClass),clearTimeout(this.timer)},resumeRotation:function(){this.autoRotationStopped||(this.gallery.addClass(this.options.autorotationActiveClass),this.gallery.removeClass(this.options.autorotationDisabledClass),this.autoRotate())},autoRotate:function(){var t=this;clearTimeout(this.timer),!this.options.autoRotation||this.galleryHover||this.autoRotationStopped?this.pauseRotation():(this.gallery.addClass(this.options.autorotationActiveClass),this.timer=setTimeout(function(){t.nextSlide(!0)},this.options.switchTime))},makeCallback:function(t){if("function"==typeof this.options[t]){var e=Array.prototype.slice.call(arguments);e.shift(),this.options[t].apply(this,e)}},destroy:function(){this.btnPrev.unbind(this.options.event,this.btnPrevHandler),this.btnNext.unbind(this.options.event,this.btnNextHandler),this.pagerLinks.unbind(this.options.event,this.pagerLinksHandler),t(window).unbind("load resize orientationchange",this.resizeHandler),this.stopRotation(),this.btnPlay.unbind(this.options.event,this.btnPlayHandler),this.btnPause.unbind(this.options.event,this.btnPauseHandler),this.btnPlayPause.unbind(this.options.event,this.btnPlayPauseHandler),this.gallery.unbind("mouseenter",this.hoverHandler),this.gallery.unbind("mouseleave",this.leaveHandler),this.swipeHandler&&this.swipeHandler.destroy(),"string"==typeof this.options.generatePagination&&this.pagerHolder.empty();var e=[this.options.galleryReadyClass,this.options.autorotationActiveClass,this.options.autorotationDisabledClass];this.gallery.removeClass(e.join(" ")),this.slidesHolder.add(this.slides).removeAttr("style")}};var i=/Windows Phone/.test(navigator.userAgent)||"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch;t.fn.fadeGallery=function(i){return this.each(function(){t(this).data("FadeGallery",new e(t.extend(i,{holder:this})))})}}(jQuery),Object.create&&!function(t,e,i,n){"use strict";function s(t,e,i){return setTimeout(c(t,i),e)}function o(t,e,i){return Array.isArray(t)?(r(t,i[e],i),!0):!1}function r(t,e,i){var s;if(t)if(t.forEach)t.forEach(e,i);else if(t.length!==n)for(s=0;s<t.length;)e.call(i,t[s],s,t),s++;else for(s in t)t.hasOwnProperty(s)&&e.call(i,t[s],s,t)}function a(t,e,i){for(var s=Object.keys(e),o=0;o<s.length;)(!i||i&&t[s[o]]===n)&&(t[s[o]]=e[s[o]]),o++;return t}function l(t,e){return a(t,e,!0)}function h(t,e,i){var n,s=e.prototype;n=t.prototype=Object.create(s),n.constructor=t,n._super=s,i&&a(n,i)}function c(t,e){return function(){return t.apply(e,arguments)}}function u(t,e){return typeof t==ct?t.apply(e?e[0]||n:n,e):t}function p(t,e){return t===n?e:t}function d(t,e,i){r(v(e),function(e){t.addEventListener(e,i,!1)})}function f(t,e,i){r(v(e),function(e){t.removeEventListener(e,i,!1)})}function m(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function g(t,e){return t.indexOf(e)>-1}function v(t){return t.trim().split(/\s+/g)}function y(t,e,i){if(t.indexOf&&!i)return t.indexOf(e);for(var n=0;n<t.length;){if(i&&t[n][i]==e||!i&&t[n]===e)return n;n++}return-1}function b(t){return Array.prototype.slice.call(t,0)}function w(t,e,i){for(var n=[],s=[],o=0;o<t.length;){var r=e?t[o][e]:t[o];y(s,r)<0&&n.push(t[o]),s[o]=r,o++}return i&&(n=e?n.sort(function(t,i){return t[e]>i[e]}):n.sort()),n}function x(t,e){for(var i,s,o=e[0].toUpperCase()+e.slice(1),r=0;r<lt.length;){if(i=lt[r],s=i?i+o:e,s in t)return s;r++}return n}function C(){return ft++}function T(t){var e=t.ownerDocument;return e.defaultView||e.parentWindow}function k(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){u(t.options.enable,[t])&&i.handler(e)},this.init()}function S(t){var e,i=t.options.inputClass;return new(e=i?i:vt?M:yt?q:gt?W:z)(t,A)}function A(t,e,i){var n=i.pointers.length,s=i.changedPointers.length,o=e&kt&&n-s===0,r=e&(At|Et)&&n-s===0;i.isFirst=!!o,i.isFinal=!!r,o&&(t.session={}),i.eventType=e,E(t,i),t.emit("hammer.input",i),t.recognize(i),t.session.prevInput=i}function E(t,e){var i=t.session,n=e.pointers,s=n.length;i.firstInput||(i.firstInput=R(e)),s>1&&!i.firstMultiple?i.firstMultiple=R(e):1===s&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,a=r?r.center:o.center,l=e.center=H(n);e.timeStamp=dt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=D(a,l),e.distance=O(a,l),$(i,e),e.offsetDirection=I(e.deltaX,e.deltaY),e.scale=r?N(r.pointers,n):1,e.rotation=r?L(r.pointers,n):0,P(i,e);var h=t.element;m(e.srcEvent.target,h)&&(h=e.srcEvent.target),e.target=h}function $(t,e){var i=e.center,n=t.offsetDelta||{},s=t.prevDelta||{},o=t.prevInput||{};(e.eventType===kt||o.eventType===At)&&(s=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=t.offsetDelta={x:i.x,y:i.y}),e.deltaX=s.x+(i.x-n.x),e.deltaY=s.y+(i.y-n.y)}function P(t,e){var i,s,o,r,a=t.lastInterval||e,l=e.timeStamp-a.timeStamp;if(e.eventType!=Et&&(l>Tt||a.velocity===n)){var h=a.deltaX-e.deltaX,c=a.deltaY-e.deltaY,u=_(l,h,c);s=u.x,o=u.y,i=pt(u.x)>pt(u.y)?u.x:u.y,r=I(h,c),t.lastInterval=e}else i=a.velocity,s=a.velocityX,o=a.velocityY,r=a.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=r}function R(t){for(var e=[],i=0;i<t.pointers.length;)e[i]={clientX:ut(t.pointers[i].clientX),clientY:ut(t.pointers[i].clientY)},i++;return{timeStamp:dt(),pointers:e,center:H(e),deltaX:t.deltaX,deltaY:t.deltaY}}function H(t){var e=t.length;if(1===e)return{x:ut(t[0].clientX),y:ut(t[0].clientY)};for(var i=0,n=0,s=0;e>s;)i+=t[s].clientX,n+=t[s].clientY,s++;return{x:ut(i/e),y:ut(n/e)}}function _(t,e,i){return{x:e/t||0,y:i/t||0}}function I(t,e){return t===e?$t:pt(t)>=pt(e)?t>0?Pt:Rt:e>0?Ht:_t}function O(t,e,i){i||(i=Lt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return Math.sqrt(n*n+s*s)}function D(t,e,i){i||(i=Lt);var n=e[i[0]]-t[i[0]],s=e[i[1]]-t[i[1]];return 180*Math.atan2(s,n)/Math.PI}function L(t,e){return D(e[1],e[0],Nt)-D(t[1],t[0],Nt)}function N(t,e){return O(e[0],e[1],Nt)/O(t[0],t[1],Nt)}function z(){this.evEl=Mt,this.evWin=Bt,this.allow=!0,this.pressed=!1,k.apply(this,arguments)}function M(){this.evEl=Ft,this.evWin=Wt,k.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function B(){this.evTarget=Ut,this.evWin=Xt,this.started=!1,k.apply(this,arguments)}function j(t,e){var i=b(t.touches),n=b(t.changedTouches);return e&(At|Et)&&(i=w(i.concat(n),"identifier",!0)),[i,n]}function q(){this.evTarget=Gt,this.targetIds={},k.apply(this,arguments)}function F(t,e){var i=b(t.touches),n=this.targetIds;if(e&(kt|St)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,o,r=b(t.changedTouches),a=[],l=this.target;if(o=i.filter(function(t){return m(t.target,l)}),e===kt)for(s=0;s<o.length;)n[o[s].identifier]=!0,s++;for(s=0;s<r.length;)n[r[s].identifier]&&a.push(r[s]),e&(At|Et)&&delete n[r[s].identifier],s++;return a.length?[w(o.concat(a),"identifier",!0),a]:void 0}function W(){k.apply(this,arguments);var t=c(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new z(this.manager,t)}function Y(t,e){this.manager=t,this.set(e)}function U(t){if(g(t,ee))return ee;var e=g(t,ie),i=g(t,ne);return e&&i?ie+" "+ne:e||i?e?ie:ne:g(t,te)?te:Jt}function X(t){this.id=C(),this.manager=null,this.options=l(t||{},this.defaults),this.options.enable=p(this.options.enable,!0),this.state=se,this.simultaneous={},this.requireFail=[]}function V(t){return t&he?"cancel":t&ae?"end":t&re?"move":t&oe?"start":""}function G(t){return t==_t?"down":t==Ht?"up":t==Pt?"left":t==Rt?"right":""}function Q(t,e){var i=e.manager;return i?i.get(t):t}function Z(){X.apply(this,arguments)}function K(){Z.apply(this,arguments),this.pX=null,this.pY=null}function J(){Z.apply(this,arguments)}function tt(){X.apply(this,arguments),this._timer=null,this._input=null}function et(){Z.apply(this,arguments)}function it(){Z.apply(this,arguments)}function nt(){X.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function st(t,e){return e=e||{},e.recognizers=p(e.recognizers,st.defaults.preset),new ot(t,e)}function ot(t,e){e=e||{},this.options=l(e,st.defaults),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.element=t,this.input=S(this),this.touchAction=new Y(this,this.options.touchAction),rt(this,!0),r(e.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function rt(t,e){var i=t.element;r(t.options.cssProps,function(t,n){i.style[x(i.style,n)]=e?t:""})}function at(t,i){var n=e.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=i,i.target.dispatchEvent(n)}var lt=["","webkit","moz","MS","ms","o"],ht=e.createElement("div"),ct="function",ut=Math.round,pt=Math.abs,dt=Date.now,ft=1,mt=/mobile|tablet|ip(ad|hone|od)|android/i,gt="ontouchstart"in t,vt=x(t,"PointerEvent")!==n,yt=gt&&mt.test(navigator.userAgent),bt="touch",wt="pen",xt="mouse",Ct="kinect",Tt=25,kt=1,St=2,At=4,Et=8,$t=1,Pt=2,Rt=4,Ht=8,_t=16,It=Pt|Rt,Ot=Ht|_t,Dt=It|Ot,Lt=["x","y"],Nt=["clientX","clientY"];k.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(T(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(T(this.element),this.evWin,this.domHandler)}};var zt={mousedown:kt,mousemove:St,mouseup:At},Mt="mousedown",Bt="mousemove mouseup";h(z,k,{handler:function(t){var e=zt[t.type];e&kt&&0===t.button&&(this.pressed=!0),e&St&&1!==t.which&&(e=At),this.pressed&&this.allow&&(e&At&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:xt,srcEvent:t}))}});var jt={pointerdown:kt,pointermove:St,pointerup:At,pointercancel:Et,pointerout:Et},qt={2:bt,3:wt,4:xt,5:Ct},Ft="pointerdown",Wt="pointermove pointerup pointercancel";t.MSPointerEvent&&(Ft="MSPointerDown",Wt="MSPointerMove MSPointerUp MSPointerCancel"),h(M,k,{handler:function(t){var e=this.store,i=!1,n=t.type.toLowerCase().replace("ms",""),s=jt[n],o=qt[t.pointerType]||t.pointerType,r=o==bt,a=y(e,t.pointerId,"pointerId");s&kt&&(0===t.button||r)?0>a&&(e.push(t),a=e.length-1):s&(At|Et)&&(i=!0),0>a||(e[a]=t,this.callback(this.manager,s,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),i&&e.splice(a,1))}});var Yt={touchstart:kt,touchmove:St,touchend:At,touchcancel:Et},Ut="touchstart",Xt="touchstart touchmove touchend touchcancel";h(B,k,{handler:function(t){var e=Yt[t.type];if(e===kt&&(this.started=!0),this.started){var i=j.call(this,t,e);e&(At|Et)&&i[0].length-i[1].length===0&&(this.started=!1),this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:bt,srcEvent:t})}}});var Vt={touchstart:kt,touchmove:St,touchend:At,touchcancel:Et},Gt="touchstart touchmove touchend touchcancel";h(q,k,{handler:function(t){var e=Vt[t.type],i=F.call(this,t,e);i&&this.callback(this.manager,e,{pointers:i[0],changedPointers:i[1],pointerType:bt,srcEvent:t})}}),h(W,k,{handler:function(t,e,i){var n=i.pointerType==bt,s=i.pointerType==xt;if(n)this.mouse.allow=!1;else if(s&&!this.mouse.allow)return;e&(At|Et)&&(this.mouse.allow=!0),this.callback(t,e,i)},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Qt=x(ht.style,"touchAction"),Zt=Qt!==n,Kt="compute",Jt="auto",te="manipulation",ee="none",ie="pan-x",ne="pan-y";Y.prototype={set:function(t){t==Kt&&(t=this.compute()),Zt&&(this.manager.element.style[Qt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){u(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),U(t.join(" "))},preventDefaults:function(t){if(!Zt){var e=t.srcEvent,i=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var n=this.actions,s=g(n,ee),o=g(n,ne),r=g(n,ie);return s||o&&i&It||r&&i&Ot?this.preventSrc(e):void 0}},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};var se=1,oe=2,re=4,ae=8,le=ae,he=16,ce=32;X.prototype={defaults:{},set:function(t){return a(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=Q(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=Q(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=Q(t,this),-1===y(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=Q(t,this);var e=y(this.requireFail,t);return e>-1&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){i.manager.emit(i.options.event+(e?V(n):""),t)}var i=this,n=this.state;ae>n&&e(!0),e(),n>=ae&&e(!0)},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=ce)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(this.requireFail[t].state&(ce|se)))return!1;t++}return!0},recognize:function(t){var e=a({},t);return u(this.options.enable,[this,e])?(this.state&(le|he|ce)&&(this.state=se),this.state=this.process(e),void(this.state&(oe|re|ae|he)&&this.tryEmit(e))):(this.reset(),void(this.state=ce))},process:function(){},getTouchAction:function(){},reset:function(){}},h(Z,X,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,i=t.eventType,n=e&(oe|re),s=this.attrTest(t);return n&&(i&Et||!s)?e|he:n||s?i&At?e|ae:e&oe?e|re:oe:ce}}),h(K,Z,{defaults:{event:"pan",threshold:10,pointers:1,direction:Dt},getTouchAction:function(){var t=this.options.direction,e=[];return t&It&&e.push(ne),t&Ot&&e.push(ie),e},directionTest:function(t){var e=this.options,i=!0,n=t.distance,s=t.direction,o=t.deltaX,r=t.deltaY;return s&e.direction||(e.direction&It?(s=0===o?$t:0>o?Pt:Rt,i=o!=this.pX,n=Math.abs(t.deltaX)):(s=0===r?$t:0>r?Ht:_t,i=r!=this.pY,n=Math.abs(t.deltaY))),t.direction=s,i&&n>e.threshold&&s&e.direction},attrTest:function(t){return Z.prototype.attrTest.call(this,t)&&(this.state&oe||!(this.state&oe)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this._super.emit.call(this,t)}}),h(J,Z,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||this.state&oe)},emit:function(t){if(this._super.emit.call(this,t),1!==t.scale){var e=t.scale<1?"in":"out";this.manager.emit(this.options.event+e,t)}}}),h(tt,X,{defaults:{event:"press",pointers:1,time:500,threshold:5},getTouchAction:function(){return[Jt]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!n||!i||t.eventType&(At|Et)&&!o)this.reset();else if(t.eventType&kt)this.reset(),this._timer=s(function(){this.state=le,this.tryEmit()},e.time,this);else if(t.eventType&At)return le;return ce},reset:function(){clearTimeout(this._timer)},emit:function(t){this.state===le&&(t&&t.eventType&At?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=dt(),this.manager.emit(this.options.event,this._input)))}}),h(et,Z,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ee]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||this.state&oe)}}),h(it,Z,{defaults:{event:"swipe",threshold:10,velocity:.65,direction:It|Ot,pointers:1},getTouchAction:function(){return K.prototype.getTouchAction.call(this)},attrTest:function(t){var e,i=this.options.direction;return i&(It|Ot)?e=t.velocity:i&It?e=t.velocityX:i&Ot&&(e=t.velocityY),this._super.attrTest.call(this,t)&&i&t.direction&&t.distance>this.options.threshold&&pt(e)>this.options.velocity&&t.eventType&At},emit:function(t){var e=G(t.direction);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),h(nt,X,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:2,posThreshold:10},getTouchAction:function(){return[te]},process:function(t){var e=this.options,i=t.pointers.length===e.pointers,n=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&kt&&0===this.count)return this.failTimeout();if(n&&o&&i){if(t.eventType!=At)return this.failTimeout();var r=this.pTime?t.timeStamp-this.pTime<e.interval:!0,a=!this.pCenter||O(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&r?this.count+=1:this.count=1,this._input=t;var l=this.count%e.taps;if(0===l)return this.hasRequireFailures()?(this._timer=s(function(){this.state=le,this.tryEmit()},e.interval,this),oe):le}return ce},failTimeout:function(){return this._timer=s(function(){this.state=ce},this.options.interval,this),ce},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==le&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),st.VERSION="2.0.4",st.defaults={domEvents:!1,touchAction:Kt,enable:!0,inputTarget:null,inputClass:null,preset:[[et,{enable:!1}],[J,{enable:!1},["rotate"]],[it,{direction:It}],[K,{direction:It},["swipe"]],[nt],[nt,{event:"doubletap",taps:2},["tap"]],[tt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var ue=1,pe=2;ot.prototype={set:function(t){return a(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?pe:ue},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var i,n=this.recognizers,s=e.curRecognizer;(!s||s&&s.state&le)&&(s=e.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],e.stopped===pe||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(t),!s&&i.state&(oe|re|ae)&&(s=e.curRecognizer=i),o++}},get:function(t){if(t instanceof X)return t;for(var e=this.recognizers,i=0;i<e.length;i++)if(e[i].options.event==t)return e[i];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;var e=this.recognizers;return t=this.get(t),e.splice(y(e,t),1),this.touchAction.update(),this},on:function(t,e){var i=this.handlers;return r(v(t),function(t){i[t]=i[t]||[],i[t].push(e)}),this},off:function(t,e){var i=this.handlers;return r(v(t),function(t){e?i[t].splice(y(i[t],e),1):delete i[t]}),this},emit:function(t,e){this.options.domEvents&&at(t,e);var i=this.handlers[t]&&this.handlers[t].slice();if(i&&i.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](e),n++}},destroy:function(){this.element&&rt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},a(st,{INPUT_START:kt,INPUT_MOVE:St,INPUT_END:At,INPUT_CANCEL:Et,STATE_POSSIBLE:se,STATE_BEGAN:oe,STATE_CHANGED:re,STATE_ENDED:ae,STATE_RECOGNIZED:le,STATE_CANCELLED:he,STATE_FAILED:ce,DIRECTION_NONE:$t,DIRECTION_LEFT:Pt,DIRECTION_RIGHT:Rt,DIRECTION_UP:Ht,DIRECTION_DOWN:_t,DIRECTION_HORIZONTAL:It,DIRECTION_VERTICAL:Ot,DIRECTION_ALL:Dt,Manager:ot,Input:k,TouchAction:Y,TouchInput:q,MouseInput:z,PointerEventInput:M,TouchMouseInput:W,SingleTouchInput:B,Recognizer:X,AttrRecognizer:Z,Tap:nt,Pan:K,Swipe:it,Pinch:J,Rotate:et,Press:tt,on:d,off:f,each:r,merge:l,extend:a,inherit:h,bindFn:c,prefixed:x}),typeof define==ct&&define.amd?define(function(){return st}):"undefined"!=typeof module&&module.exports?module.exports=st:t[i]=st}(window,document,"Hammer");
